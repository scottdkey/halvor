# Default values for smb-storage
# Values are loaded from environment variables via halvor CLI

# SMB server configurations (from 1Password)
# Multiple servers can be configured: maple and willow
# Each server should have SMB_<SERVER>_HOST, SMB_<SERVER>_USERNAME, SMB_<SERVER>_PASSWORD configured

# Shares to create PVs for
# These should match the shares configured in SMB_<SERVER>_SHARES
# The paths should match where halvor smb mounts them: /mnt/smb/<server>/<share>
# Note: backups and domains use subdirectories to avoid conflicts with existing data
#       data mounts directly to the share root
shares:
  # Maple server shares
  - name: maple-backups
    server: maple
    share: backups
    path: "/mnt/smb/maple/backups/k8s"
    size: 100Gi
  - name: maple-domains
    server: maple
    share: domains
    path: "/mnt/smb/maple/domains/k8s"
    size: 200Gi
  - name: maple-data
    server: maple
    share: data
    path: "/mnt/smb/maple/data"
    size: 500Gi
  # Willow server shares
  - name: willow-backups
    server: willow
    share: backups
    path: "/mnt/smb/willow/backups/k8s"
    size: 100Gi
  - name: willow-domains
    server: willow
    share: domains
    path: "/mnt/smb/willow/domains/k8s"
    size: 200Gi
  - name: willow-data
    server: willow
    share: data
    path: "/mnt/smb/willow/data"
    size: 500Gi

# Storage class configuration
storageClass:
  name: smb-storage
  provisioner: local-path
  reclaimPolicy: Retain
  volumeBindingMode: WaitForFirstConsumer

# Node selector for PVs (optional - can target specific nodes)
# For HA cluster, you may want to target only frigg and baulder (not oak)
nodeSelector: {}
